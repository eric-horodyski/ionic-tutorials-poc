<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-tutorial-listing">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">tutorial-listing | Ionic Tutorials</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-test-site.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-test-site.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="tutorial-listing | Ionic Tutorials"><meta data-rh="true" name="description" content="{/ prettier-ignore /}"><meta data-rh="true" property="og:description" content="{/ prettier-ignore /}"><link data-rh="true" rel="icon" href="/img/favicon-96x96.png"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/" hreflang="x-default"><script data-rh="true">function maybeInsertBanner(){window.__DOCUSAURUS_INSERT_BASEURL_BANNER&&insertBanner()}function insertBanner(){var n=document.getElementById("docusaurus-base-url-issue-banner-container");if(n){n.innerHTML='\n<div id="docusaurus-base-url-issue-banner" style="border: thick solid red; background-color: rgb(255, 230, 179); margin: 20px; padding: 20px; font-size: 20px;">\n   <p style="font-weight: bold; font-size: 30px;">Your Docusaurus site did not load properly.</p>\n   <p>A very common reason is a wrong site <a href="https://docusaurus.io/docs/docusaurus.config.js/#baseurl" style="font-weight: bold;">baseUrl configuration</a>.</p>\n   <p>Current configured baseUrl = <span style="font-weight: bold; color: red;">/</span>  (default value)</p>\n   <p>We suggest trying baseUrl = <span id="docusaurus-base-url-issue-banner-suggestion-container" style="font-weight: bold; color: green;"></span></p>\n</div>\n';var e=document.getElementById("docusaurus-base-url-issue-banner-suggestion-container"),s=window.location.pathname,r="/"===s.substr(-1)?s:s+"/";e.innerHTML=r}}window.__DOCUSAURUS_INSERT_BASEURL_BANNER=!0,document.addEventListener("DOMContentLoaded",maybeInsertBanner)</script><link rel="stylesheet" href="/assets/css/styles.e5d978f2.css">
<link rel="preload" href="/assets/js/runtime~main.2b76d49c.js" as="script">
<link rel="preload" href="/assets/js/main.456849c3.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div id="docusaurus-base-url-issue-banner-container"></div><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Tutorials - Proof of Concept</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/">tutorial-listing</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/tutorial---basics">Tutorial - Basics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorial - Basics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/category/tutorial---extras">Tutorial - Extras</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorial - Extras&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">tutorial-listing</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>tutorial-listing</h1></header><style class="ssmq-0">.ssmq-0.ssmq-default{display:block}.ssmq-0:not(.ssmq-default){display: none;}
@media not screen, (max-width: 768px){.ssmq-0.ssmq-notscreenmax-width768px{display:block}.ssmq-0:not(.ssmq-notscreenmax-width768px){display: none;}}</style><div class="ssmq-0 ssmq-notscreenmax-width768px"><section class="ch-scrollycoding-static"><h1>Prebuilt Checkout page</h1><div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="server.rb" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>server.rb</div></div><div title="checkout.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>checkout.html</div></div><div title="success.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>success.html</div></div><div title="cancel.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>cancel.html</div></div><div style="flex:1;min-width:0.8em"></div></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><div style="display:inline-block;margin-left:16px"><span>require &#x27;stripe&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>require &#x27;sinatra&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span># This is a public sample test API key.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span># Don’t submit any personal information in requests made with this key.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span># Sign in to see your own test API key embedded in code samples.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>Stripe.api_key = &#x27;sk_test_CGGvfNiIPwLXiDwaOfZ3oX6Y&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>set :static, true</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>set :port, 4242</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>YOUR_DOMAIN = &#x27;http://localhost:4242&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>post &#x27;/create-checkout-session&#x27; do</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  content_type &#x27;application/json&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  session = Stripe::Checkout::Session.create({</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    line_items: [{</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      # Provide the exact Price ID (e.g. pr_1234) of the product</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      price: &#x27;{{PRICE_ID}}&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      quantity: 1,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    }],</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    mode: &#x27;payment&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    success_url: YOUR_DOMAIN + &#x27;/success.html&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    cancel_url: YOUR_DOMAIN + &#x27;/cancel.html&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  })</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  redirect session.url, 303</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>end</span></div></div><br></code></div></div></div></div><p>Explore a full, working code sample of an integration with <a href="https://stripe.com/docs/payments/checkout" target="_blank" rel="noopener noreferrer">Stripe Checkout</a>. The client- and server-side code redirects to a prebuilt payment page hosted on Stripe.</p><p>Before you get started, confirm the payment methods you want to offer in your <a href="https://dashboard.stripe.com/settings/payment_methods" target="_blank" rel="noopener noreferrer">payment method settings</a>. We enable cards and other common payment methods for you by default, and we recommend that you enable additional payment methods that are relevant for your business and customers.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="set-up-the-server">Set up the server<a href="#set-up-the-server" class="hash-link" aria-label="Direct link to Set up the server" title="Direct link to Set up the server">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-the-stripe-ruby-library">Install the Stripe Ruby library<a href="#install-the-stripe-ruby-library" class="hash-link" aria-label="Direct link to Install the Stripe Ruby library" title="Direct link to Install the Stripe Ruby library">​</a></h3><div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="server.rb" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>server.rb</div></div><div title="checkout.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>checkout.html</div></div><div title="success.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>success.html</div></div><div title="cancel.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>cancel.html</div></div><div style="flex:1;min-width:0.8em"></div></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><div style="display:inline-block;margin-left:16px"><span>require &#x27;stripe&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>require &#x27;sinatra&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span># This is a public sample test API key.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span># Don’t submit any personal information in requests made with this key.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span># Sign in to see your own test API key embedded in code samples.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>Stripe.api_key = &#x27;sk_test_CGGvfNiIPwLXiDwaOfZ3oX6Y&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>set :static, true</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>set :port, 4242</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>YOUR_DOMAIN = &#x27;http://localhost:4242&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>post &#x27;/create-checkout-session&#x27; do</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  content_type &#x27;application/json&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  session = Stripe::Checkout::Session.create({</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    line_items: [{</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      # Provide the exact Price ID (e.g. pr_1234) of the product</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      price: &#x27;{{PRICE_ID}}&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      quantity: 1,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    }],</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    mode: &#x27;payment&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    success_url: YOUR_DOMAIN + &#x27;/success.html&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    cancel_url: YOUR_DOMAIN + &#x27;/cancel.html&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  })</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  redirect session.url, 303</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>end</span></div></div><br></code></div></div></div></div><p>Install the Stripe ruby gem and require it in your code. Alternatively, if you’re starting from scratch and need a Gemfile, download the project files using the link in the code editor.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-checkout-session">Create a Checkout Session<a href="#create-a-checkout-session" class="hash-link" aria-label="Direct link to Create a Checkout Session" title="Direct link to Create a Checkout Session">​</a></h3><p>Add an endpoint on your server that creates a <a href="https://stripe.com/docs/api/checkout/sessions" target="_blank" rel="noopener noreferrer">Checkout Session</a>. A Checkout Session controls what your customer sees on the payment page such as line items, the order amount and currency, and acceptable payment methods. We enable cards and other common payment methods for you by default, and you can enable or disable payment methods directly in the <a href="https://dashboard.stripe.com/settings/payment_methods" target="_blank" rel="noopener noreferrer">Stripe Dashboard</a>.</p><div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="server.rb" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>server.rb</div></div><div title="checkout.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>checkout.html</div></div><div title="success.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>success.html</div></div><div title="cancel.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>cancel.html</div></div><div style="flex:1;min-width:0.8em"></div></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><div style="display:inline-block;margin-left:16px"><span>require &#x27;stripe&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>require &#x27;sinatra&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span># This is a public sample test API key.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span># Don’t submit any personal information in requests made with this key.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span># Sign in to see your own test API key embedded in code samples.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>Stripe.api_key = &#x27;sk_test_CGGvfNiIPwLXiDwaOfZ3oX6Y&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>set :static, true</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>set :port, 4242</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>YOUR_DOMAIN = &#x27;http://localhost:4242&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>post &#x27;/create-checkout-session&#x27; do</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  content_type &#x27;application/json&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  session = Stripe::Checkout::Session.create({</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    line_items: [{</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      # Provide the exact Price ID (e.g. pr_1234) of the product</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      price: &#x27;{{PRICE_ID}}&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      quantity: 1,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    }],</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    mode: &#x27;payment&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    success_url: YOUR_DOMAIN + &#x27;/success.html&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    cancel_url: YOUR_DOMAIN + &#x27;/cancel.html&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  })</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  redirect session.url, 303</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>end</span></div></div><br></code></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="define-a-product-to-sell">Define a product to sell<a href="#define-a-product-to-sell" class="hash-link" aria-label="Direct link to Define a product to sell" title="Direct link to Define a product to sell">​</a></h3><div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="server.rb" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>server.rb</div></div><div title="checkout.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>checkout.html</div></div><div title="success.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>success.html</div></div><div title="cancel.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>cancel.html</div></div><div style="flex:1;min-width:0.8em"></div></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><div style="display:inline-block;margin-left:16px"><span>require &#x27;stripe&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>require &#x27;sinatra&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span># This is a public sample test API key.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span># Don’t submit any personal information in requests made with this key.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span># Sign in to see your own test API key embedded in code samples.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>Stripe.api_key = &#x27;sk_test_CGGvfNiIPwLXiDwaOfZ3oX6Y&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>set :static, true</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>set :port, 4242</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>YOUR_DOMAIN = &#x27;http://localhost:4242&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>post &#x27;/create-checkout-session&#x27; do</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  content_type &#x27;application/json&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  session = Stripe::Checkout::Session.create({</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    line_items: [{</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      # Provide the exact Price ID (e.g. pr_1234) of the product</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      price: &#x27;{{PRICE_ID}}&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      quantity: 1,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    }],</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    mode: &#x27;payment&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    success_url: YOUR_DOMAIN + &#x27;/success.html&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    cancel_url: YOUR_DOMAIN + &#x27;/cancel.html&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  })</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  redirect session.url, 303</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>end</span></div></div><br></code></div></div></div></div><p>Always keep sensitive information about your product inventory, such as price and availability, on your server to prevent customer manipulation from the client. Define product information when you create the Checkout Session using <a href="https://stripe.com/docs/payments/accept-a-payment?platform=web&amp;ui=checkout#create-product-prices-upfront" target="_blank" rel="noopener noreferrer">predefined price IDs</a> or on the fly with <a href="https://stripe.com/docs/api/checkout/sessions/create#create_checkout_session-line_items-price_data" target="_blank" rel="noopener noreferrer">price_data</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="choose-the-mode">Choose the mode<a href="#choose-the-mode" class="hash-link" aria-label="Direct link to Choose the mode" title="Direct link to Choose the mode">​</a></h3><div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="server.rb" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>server.rb</div></div><div title="checkout.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>checkout.html</div></div><div title="success.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>success.html</div></div><div title="cancel.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>cancel.html</div></div><div style="flex:1;min-width:0.8em"></div></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><div style="display:inline-block;margin-left:16px"><span>require &#x27;stripe&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>require &#x27;sinatra&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span># This is a public sample test API key.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span># Don’t submit any personal information in requests made with this key.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span># Sign in to see your own test API key embedded in code samples.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>Stripe.api_key = &#x27;sk_test_CGGvfNiIPwLXiDwaOfZ3oX6Y&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>set :static, true</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>set :port, 4242</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>YOUR_DOMAIN = &#x27;http://localhost:4242&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>post &#x27;/create-checkout-session&#x27; do</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  content_type &#x27;application/json&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  session = Stripe::Checkout::Session.create({</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    line_items: [{</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      # Provide the exact Price ID (e.g. pr_1234) of the product</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      price: &#x27;{{PRICE_ID}}&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      quantity: 1,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    }],</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    mode: &#x27;payment&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    success_url: YOUR_DOMAIN + &#x27;/success.html&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    cancel_url: YOUR_DOMAIN + &#x27;/cancel.html&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  })</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  redirect session.url, 303</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>end</span></div></div><br></code></div></div></div></div><p>Checkout has three modes: <code>payment</code>, <code>subscription</code>, or <code>setup</code>. Use <code>payment</code> mode for one-time purchases. Learn more about <a href="https://stripe.com/docs/billing/subscriptions/build-subscriptions" target="_blank" rel="noopener noreferrer">subscription</a> and <a href="https://stripe.com/docs/payments/save-and-reuse?platform=checkout" target="_blank" rel="noopener noreferrer">setup</a> modes in the docs.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="supply-success-and-cancel-urls">Supply success and cancel URLs<a href="#supply-success-and-cancel-urls" class="hash-link" aria-label="Direct link to Supply success and cancel URLs" title="Direct link to Supply success and cancel URLs">​</a></h3><div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="server.rb" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>server.rb</div></div><div title="checkout.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>checkout.html</div></div><div title="success.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>success.html</div></div><div title="cancel.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>cancel.html</div></div><div style="flex:1;min-width:0.8em"></div></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><div style="display:inline-block;margin-left:16px"><span>require &#x27;stripe&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>require &#x27;sinatra&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span># This is a public sample test API key.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span># Don’t submit any personal information in requests made with this key.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span># Sign in to see your own test API key embedded in code samples.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>Stripe.api_key = &#x27;sk_test_CGGvfNiIPwLXiDwaOfZ3oX6Y&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>set :static, true</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>set :port, 4242</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>YOUR_DOMAIN = &#x27;http://localhost:4242&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>post &#x27;/create-checkout-session&#x27; do</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  content_type &#x27;application/json&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  session = Stripe::Checkout::Session.create({</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    line_items: [{</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      # Provide the exact Price ID (e.g. pr_1234) of the product</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      price: &#x27;{{PRICE_ID}}&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      quantity: 1,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    }],</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    mode: &#x27;payment&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    success_url: YOUR_DOMAIN + &#x27;/success.html&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    cancel_url: YOUR_DOMAIN + &#x27;/cancel.html&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  })</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  redirect session.url, 303</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>end</span></div></div><br></code></div></div></div></div><p>Specify URLs for success and cancel pages—make sure they’re publicly accessible so Stripe can redirect customers to them. You can also handle both the success and canceled states with the same URL.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="redirect-to-checkout">Redirect to Checkout<a href="#redirect-to-checkout" class="hash-link" aria-label="Direct link to Redirect to Checkout" title="Direct link to Redirect to Checkout">​</a></h3><div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="server.rb" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>server.rb</div></div><div title="checkout.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>checkout.html</div></div><div title="success.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>success.html</div></div><div title="cancel.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>cancel.html</div></div><div style="flex:1;min-width:0.8em"></div></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><div style="display:inline-block;margin-left:16px"><span>require &#x27;stripe&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>require &#x27;sinatra&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span># This is a public sample test API key.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span># Don’t submit any personal information in requests made with this key.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span># Sign in to see your own test API key embedded in code samples.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>Stripe.api_key = &#x27;sk_test_CGGvfNiIPwLXiDwaOfZ3oX6Y&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>set :static, true</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>set :port, 4242</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>YOUR_DOMAIN = &#x27;http://localhost:4242&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>post &#x27;/create-checkout-session&#x27; do</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  content_type &#x27;application/json&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  session = Stripe::Checkout::Session.create({</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    line_items: [{</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      # Provide the exact Price ID (e.g. pr_1234) of the product</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      price: &#x27;{{PRICE_ID}}&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      quantity: 1,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    }],</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    mode: &#x27;payment&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    success_url: YOUR_DOMAIN + &#x27;/success.html&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    cancel_url: YOUR_DOMAIN + &#x27;/cancel.html&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  })</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  redirect session.url, 303</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>end</span></div></div><br></code></div></div></div></div><p>After creating the session, redirect your customer to the URL for the Checkout page returned in the response.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="build-your-checkout">Build your checkout<a href="#build-your-checkout" class="hash-link" aria-label="Direct link to Build your checkout" title="Direct link to Build your checkout">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-a-success-page">Add a success page<a href="#add-a-success-page" class="hash-link" aria-label="Direct link to Add a success page" title="Direct link to Add a success page">​</a></h3><div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="server.rb" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>server.rb</div></div><div title="checkout.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>checkout.html</div></div><div title="success.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>success.html</div></div><div title="cancel.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>cancel.html</div></div><div style="flex:1;min-width:0.8em"></div></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><div style="display:inline-block;margin-left:16px"><span>&lt;!DOCTYPE html&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>&lt;html&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  &lt;head&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    &lt;title&gt;Thanks for your order!&lt;/title&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot; /&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  &lt;/head&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  &lt;body&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    &lt;section&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      &lt;p&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        We appreciate your business! If you have any questions, please email</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        &lt;a href=&quot;mailto:orders@example.com&quot;&gt;orders@example.com&lt;/a&gt;.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      &lt;/p&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    &lt;/section&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  &lt;/body&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>&lt;/html&gt;</span></div></div><br></code></div></div></div></div><p>Create a success page for the URL you provided as the Checkout Session success_url to display order confirmation messaging or order details to your customer. Stripe redirects to this page after the customer successfully completes the checkout.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-a-canceled-page">Add a canceled page<a href="#add-a-canceled-page" class="hash-link" aria-label="Direct link to Add a canceled page" title="Direct link to Add a canceled page">​</a></h3><div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="server.rb" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>server.rb</div></div><div title="checkout.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>checkout.html</div></div><div title="success.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>success.html</div></div><div title="cancel.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>cancel.html</div></div><div style="flex:1;min-width:0.8em"></div></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><div style="display:inline-block;margin-left:16px"><span>&lt;!DOCTYPE html&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>&lt;html&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  &lt;head&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    &lt;title&gt;Checkout canceled&lt;/title&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot; /&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  &lt;/head&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  &lt;body&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    &lt;section&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      &lt;p&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        Forgot to add something to your cart? Shop around then come back to pay!</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      &lt;/p&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    &lt;/section&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  &lt;/body&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>&lt;/html&gt;</span></div></div><br></code></div></div></div></div><p>Add another page for <code>cancel_url</code>. Stripe redirects to this page when the customer clicks the back button in Checkout.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-an-order-preview-page">Add an order preview page<a href="#add-an-order-preview-page" class="hash-link" aria-label="Direct link to Add an order preview page" title="Direct link to Add an order preview page">​</a></h3><div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="server.rb" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>server.rb</div></div><div title="checkout.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>checkout.html</div></div><div title="success.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>success.html</div></div><div title="cancel.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>cancel.html</div></div><div style="flex:1;min-width:0.8em"></div></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><div style="display:inline-block;margin-left:16px"><span>&lt;!DOCTYPE html&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>&lt;html&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  &lt;head&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    &lt;title&gt;Buy cool new product&lt;/title&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot; /&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    &lt;script src=&quot;https://polyfill.io/v3/polyfill.min.js?version=3.52.1&amp;features=fetch&quot;&gt;&lt;/script&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    &lt;script src=&quot;https://js.stripe.com/v3/&quot;&gt;&lt;/script&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  &lt;/head&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  &lt;body&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    &lt;section&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      &lt;div class=&quot;product&quot;&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        &lt;img</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>          src=&quot;https://i.imgur.com/EHyR2nP.png&quot;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>          alt=&quot;The cover of Stubborn Attachments&quot;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        /&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        &lt;div class=&quot;description&quot;&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>          &lt;h3&gt;Stubborn Attachments&lt;/h3&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>          &lt;h5&gt;$20.00&lt;/h5&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        &lt;/div&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      &lt;/div&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      &lt;form action=&quot;/create-checkout-session&quot; method=&quot;POST&quot;&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        &lt;button type=&quot;submit&quot; id=&quot;checkout-button&quot;&gt;Checkout&lt;/button&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      &lt;/form&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    &lt;/section&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  &lt;/body&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>&lt;/html&gt;</span></div></div><br></code></div></div></div></div><p>Finally, add a page to show a preview of the customer’s order. Allow them to review or modify their order—as soon as they’re sent to the Checkout page, the order is final and they can’t modify it without creating a new Checkout Session.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-a-checkout-button">Add a checkout button<a href="#add-a-checkout-button" class="hash-link" aria-label="Direct link to Add a checkout button" title="Direct link to Add a checkout button">​</a></h3><div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="server.rb" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>server.rb</div></div><div title="checkout.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>checkout.html</div></div><div title="success.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>success.html</div></div><div title="cancel.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>cancel.html</div></div><div style="flex:1;min-width:0.8em"></div></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><div style="display:inline-block;margin-left:16px"><span>&lt;!DOCTYPE html&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>&lt;html&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  &lt;head&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    &lt;title&gt;Buy cool new product&lt;/title&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot; /&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    &lt;script src=&quot;https://polyfill.io/v3/polyfill.min.js?version=3.52.1&amp;features=fetch&quot;&gt;&lt;/script&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    &lt;script src=&quot;https://js.stripe.com/v3/&quot;&gt;&lt;/script&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  &lt;/head&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  &lt;body&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    &lt;section&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      &lt;div class=&quot;product&quot;&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        &lt;img</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>          src=&quot;https://i.imgur.com/EHyR2nP.png&quot;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>          alt=&quot;The cover of Stubborn Attachments&quot;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        /&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        &lt;div class=&quot;description&quot;&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>          &lt;h3&gt;Stubborn Attachments&lt;/h3&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>          &lt;h5&gt;$20.00&lt;/h5&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        &lt;/div&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      &lt;/div&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      &lt;form action=&quot;/create-checkout-session&quot; method=&quot;POST&quot;&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>        &lt;button type=&quot;submit&quot; id=&quot;checkout-button&quot;&gt;Checkout&lt;/button&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      &lt;/form&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    &lt;/section&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  &lt;/body&gt;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>&lt;/html&gt;</span></div></div><br></code></div></div></div></div><p>Add a button to your order preview page. When your customer clicks this button, they’re redirected to the Stripe-hosted payment page.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="congratulations">Congratulations!<a href="#congratulations" class="hash-link" aria-label="Direct link to Congratulations!" title="Direct link to Congratulations!">​</a></h2><p>You have a basic Checkout integration working. Learn how to customize the appearance of your checkout page.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next steps" title="Direct link to Next steps">​</a></h2><h4 class="anchor anchorWithStickyNavbar_LWe7" id="fulfillment"><a href="https://stripe.com/docs/payments/checkout/fulfill-orders" target="_blank" rel="noopener noreferrer">Fulfillment</a><a href="#fulfillment" class="hash-link" aria-label="Direct link to fulfillment" title="Direct link to fulfillment">​</a></h4><p>Set up a webhook to fulfill orders after a payment succeeds. Webhooks are the most reliable way to handle business-critical events.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="payouts"><a href="https://stripe.com/docs/payouts" target="_blank" rel="noopener noreferrer">Payouts</a><a href="#payouts" class="hash-link" aria-label="Direct link to payouts" title="Direct link to payouts">​</a></h4><p>Learn how to move funds out of your Stripe account into your bank account.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="refunds"><a href="https://stripe.com/docs/refunds" target="_blank" rel="noopener noreferrer">Refunds</a><a href="#refunds" class="hash-link" aria-label="Direct link to refunds" title="Direct link to refunds">​</a></h4><p>Handle requests for refunds by using the Stripe API or Dashboard.</p></section></div><div class="ssmq-0 ssmq-default"><section class="ch-scrollycoding"><div class="ch-scrollycoding-content"><div class="ch-scrollycoding-step-content" data-selected="true"><h1>Prebuilt Checkout page</h1><p>Explore a full, working code sample of an integration with <a href="https://stripe.com/docs/payments/checkout" target="_blank" rel="noopener noreferrer">Stripe Checkout</a>. The client- and server-side code redirects to a prebuilt payment page hosted on Stripe.</p><p>Before you get started, confirm the payment methods you want to offer in your <a href="https://dashboard.stripe.com/settings/payment_methods" target="_blank" rel="noopener noreferrer">payment method settings</a>. We enable cards and other common payment methods for you by default, and we recommend that you enable additional payment methods that are relevant for your business and customers.</p></div><div class="ch-scrollycoding-step-content"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="set-up-the-server">Set up the server<a href="#set-up-the-server" class="hash-link" aria-label="Direct link to Set up the server" title="Direct link to Set up the server">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-the-stripe-ruby-library">Install the Stripe Ruby library<a href="#install-the-stripe-ruby-library" class="hash-link" aria-label="Direct link to Install the Stripe Ruby library" title="Direct link to Install the Stripe Ruby library">​</a></h3><p>Install the Stripe ruby gem and require it in your code. Alternatively, if you’re starting from scratch and need a Gemfile, download the project files using the link in the code editor.</p></div><div class="ch-scrollycoding-step-content"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-checkout-session">Create a Checkout Session<a href="#create-a-checkout-session" class="hash-link" aria-label="Direct link to Create a Checkout Session" title="Direct link to Create a Checkout Session">​</a></h3><p>Add an endpoint on your server that creates a <a href="https://stripe.com/docs/api/checkout/sessions" target="_blank" rel="noopener noreferrer">Checkout Session</a>. A Checkout Session controls what your customer sees on the payment page such as line items, the order amount and currency, and acceptable payment methods. We enable cards and other common payment methods for you by default, and you can enable or disable payment methods directly in the <a href="https://dashboard.stripe.com/settings/payment_methods" target="_blank" rel="noopener noreferrer">Stripe Dashboard</a>.</p></div><div class="ch-scrollycoding-step-content"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="define-a-product-to-sell">Define a product to sell<a href="#define-a-product-to-sell" class="hash-link" aria-label="Direct link to Define a product to sell" title="Direct link to Define a product to sell">​</a></h3><p>Always keep sensitive information about your product inventory, such as price and availability, on your server to prevent customer manipulation from the client. Define product information when you create the Checkout Session using <a href="https://stripe.com/docs/payments/accept-a-payment?platform=web&amp;ui=checkout#create-product-prices-upfront" target="_blank" rel="noopener noreferrer">predefined price IDs</a> or on the fly with <a href="https://stripe.com/docs/api/checkout/sessions/create#create_checkout_session-line_items-price_data" target="_blank" rel="noopener noreferrer">price_data</a>.</p></div><div class="ch-scrollycoding-step-content"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="choose-the-mode">Choose the mode<a href="#choose-the-mode" class="hash-link" aria-label="Direct link to Choose the mode" title="Direct link to Choose the mode">​</a></h3><p>Checkout has three modes: <code>payment</code>, <code>subscription</code>, or <code>setup</code>. Use <code>payment</code> mode for one-time purchases. Learn more about <a href="https://stripe.com/docs/billing/subscriptions/build-subscriptions" target="_blank" rel="noopener noreferrer">subscription</a> and <a href="https://stripe.com/docs/payments/save-and-reuse?platform=checkout" target="_blank" rel="noopener noreferrer">setup</a> modes in the docs.</p></div><div class="ch-scrollycoding-step-content"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="supply-success-and-cancel-urls">Supply success and cancel URLs<a href="#supply-success-and-cancel-urls" class="hash-link" aria-label="Direct link to Supply success and cancel URLs" title="Direct link to Supply success and cancel URLs">​</a></h3><p>Specify URLs for success and cancel pages—make sure they’re publicly accessible so Stripe can redirect customers to them. You can also handle both the success and canceled states with the same URL.</p></div><div class="ch-scrollycoding-step-content"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="redirect-to-checkout">Redirect to Checkout<a href="#redirect-to-checkout" class="hash-link" aria-label="Direct link to Redirect to Checkout" title="Direct link to Redirect to Checkout">​</a></h3><p>After creating the session, redirect your customer to the URL for the Checkout page returned in the response.</p></div><div class="ch-scrollycoding-step-content"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="build-your-checkout">Build your checkout<a href="#build-your-checkout" class="hash-link" aria-label="Direct link to Build your checkout" title="Direct link to Build your checkout">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-a-success-page">Add a success page<a href="#add-a-success-page" class="hash-link" aria-label="Direct link to Add a success page" title="Direct link to Add a success page">​</a></h3><p>Create a success page for the URL you provided as the Checkout Session success_url to display order confirmation messaging or order details to your customer. Stripe redirects to this page after the customer successfully completes the checkout.</p></div><div class="ch-scrollycoding-step-content"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-a-canceled-page">Add a canceled page<a href="#add-a-canceled-page" class="hash-link" aria-label="Direct link to Add a canceled page" title="Direct link to Add a canceled page">​</a></h3><p>Add another page for <code>cancel_url</code>. Stripe redirects to this page when the customer clicks the back button in Checkout.</p></div><div class="ch-scrollycoding-step-content"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-an-order-preview-page">Add an order preview page<a href="#add-an-order-preview-page" class="hash-link" aria-label="Direct link to Add an order preview page" title="Direct link to Add an order preview page">​</a></h3><p>Finally, add a page to show a preview of the customer’s order. Allow them to review or modify their order—as soon as they’re sent to the Checkout page, the order is final and they can’t modify it without creating a new Checkout Session.</p></div><div class="ch-scrollycoding-step-content"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="add-a-checkout-button">Add a checkout button<a href="#add-a-checkout-button" class="hash-link" aria-label="Direct link to Add a checkout button" title="Direct link to Add a checkout button">​</a></h3><p>Add a button to your order preview page. When your customer clicks this button, they’re redirected to the Stripe-hosted payment page.</p></div><div class="ch-scrollycoding-step-content"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="congratulations">Congratulations!<a href="#congratulations" class="hash-link" aria-label="Direct link to Congratulations!" title="Direct link to Congratulations!">​</a></h2><p>You have a basic Checkout integration working. Learn how to customize the appearance of your checkout page.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next steps" title="Direct link to Next steps">​</a></h2><h4 class="anchor anchorWithStickyNavbar_LWe7" id="fulfillment"><a href="https://stripe.com/docs/payments/checkout/fulfill-orders" target="_blank" rel="noopener noreferrer">Fulfillment</a><a href="#fulfillment" class="hash-link" aria-label="Direct link to fulfillment" title="Direct link to fulfillment">​</a></h4><p>Set up a webhook to fulfill orders after a payment succeeds. Webhooks are the most reliable way to handle business-critical events.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="payouts"><a href="https://stripe.com/docs/payouts" target="_blank" rel="noopener noreferrer">Payouts</a><a href="#payouts" class="hash-link" aria-label="Direct link to payouts" title="Direct link to payouts">​</a></h4><p>Learn how to move funds out of your Stripe account into your bank account.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="refunds"><a href="https://stripe.com/docs/refunds" target="_blank" rel="noopener noreferrer">Refunds</a><a href="#refunds" class="hash-link" aria-label="Direct link to refunds" title="Direct link to refunds">​</a></h4><p>Handle requests for refunds by using the Stripe API or Dashboard.</p></div></div><div class="ch-scrollycoding-sticker"><div class="ch-codegroup not-prose"><div class="ch-editor-frame" style="background:#2e3440"><div class="ch-frame-title-bar" style="color:#C5C5C5;background:#2e3440"><div class="ch-frame-buttons"><div class="ch-frame-button ch-frame-button-left"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-middle"></div><div class="ch-frame-button-space"></div><div class="ch-frame-button ch-frame-button-right"></div></div><div title="server.rb" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-active" style="background:#3b4252;color:#d8dee9;border-right-color:#3b425200;border-bottom-color:#88c0d000"><div><span style="opacity:0.5"></span>server.rb</div></div><div title="checkout.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>checkout.html</div></div><div title="success.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>success.html</div></div><div title="cancel.html" data-ch-tab="north" class="ch-editor-tab ch-editor-tab-inactive" style="background:#2e3440;color:#d8dee966;border-right-color:#3b425200;border-bottom-color:#2e3440"><div><span style="opacity:0.5"></span>cancel.html</div></div><div style="flex:1;min-width:0.8em"></div><svg class="ch-editor-button" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" role="button"><title>Expand</title><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"></path></svg><dialog class="ch-expand-dialog"><svg class="ch-expand-close" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" role="button"><title>Close</title><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></dialog></div><div data-ch-panel="north" style="flex-grow:1;overflow:hidden"><div class="ch-code-wrapper" style="margin:0;padding:0;position:relative;white-space:pre;box-sizing:content-box;opacity:0;overflow:auto;height:100%"><code class="ch-code-scroll-parent"><br><div><div style="display:inline-block;margin-left:16px"><span>require &#x27;stripe&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>require &#x27;sinatra&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span># This is a public sample test API key.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span># Don’t submit any personal information in requests made with this key.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span># Sign in to see your own test API key embedded in code samples.</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>Stripe.api_key = &#x27;sk_test_CGGvfNiIPwLXiDwaOfZ3oX6Y&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>set :static, true</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>set :port, 4242</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>YOUR_DOMAIN = &#x27;http://localhost:4242&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>post &#x27;/create-checkout-session&#x27; do</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  content_type &#x27;application/json&#x27;</span></div></div><div><div style="display:inline-block;margin-left:16px"><span></span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  session = Stripe::Checkout::Session.create({</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    line_items: [{</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      # Provide the exact Price ID (e.g. pr_1234) of the product</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      price: &#x27;{{PRICE_ID}}&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>      quantity: 1,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    }],</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    mode: &#x27;payment&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    success_url: YOUR_DOMAIN + &#x27;/success.html&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>    cancel_url: YOUR_DOMAIN + &#x27;/cancel.html&#x27;,</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  })</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>  redirect session.url, 303</span></div></div><div><div style="display:inline-block;margin-left:16px"><span>end</span></div></div><br></code></div></div></div></div></div></section></div><script class="ssmq-0">!function(){for(var e=["not screen, (max-width: 768px)","default"],t=["ssmq-notscreenmax-width768px","ssmq-default"],o="ssmq-0",r=document.getElementsByTagName("script"),c=r[r.length-1].parentNode,s=null,a=0;a<e.length-1;a++)if(window.matchMedia(e[a]).matches){s=c.querySelector(":scope > ."+o+"."+t[a]);break}if(!s){var n=t.pop();s=c.querySelector(":scope > ."+o+"."+n)}s.removeAttribute("class"),c.querySelectorAll(":scope > ."+o).forEach((function(e){c.removeChild(e)}))}()</script>
<div style="height:99px"></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/category/tutorial---basics"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tutorial - Basics</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#set-up-the-server" class="table-of-contents__link toc-highlight">Set up the server</a><ul><li><a href="#install-the-stripe-ruby-library" class="table-of-contents__link toc-highlight">Install the Stripe Ruby library</a></li><li><a href="#create-a-checkout-session" class="table-of-contents__link toc-highlight">Create a Checkout Session</a></li><li><a href="#define-a-product-to-sell" class="table-of-contents__link toc-highlight">Define a product to sell</a></li><li><a href="#choose-the-mode" class="table-of-contents__link toc-highlight">Choose the mode</a></li><li><a href="#supply-success-and-cancel-urls" class="table-of-contents__link toc-highlight">Supply success and cancel URLs</a></li><li><a href="#redirect-to-checkout" class="table-of-contents__link toc-highlight">Redirect to Checkout</a></li></ul></li><li><a href="#build-your-checkout" class="table-of-contents__link toc-highlight">Build your checkout</a><ul><li><a href="#add-a-success-page" class="table-of-contents__link toc-highlight">Add a success page</a></li><li><a href="#add-a-canceled-page" class="table-of-contents__link toc-highlight">Add a canceled page</a></li><li><a href="#add-an-order-preview-page" class="table-of-contents__link toc-highlight">Add an order preview page</a></li><li><a href="#add-a-checkout-button" class="table-of-contents__link toc-highlight">Add a checkout button</a></li></ul></li><li><a href="#congratulations" class="table-of-contents__link toc-highlight">Congratulations!</a></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next steps</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.2b76d49c.js"></script>
<script src="/assets/js/main.456849c3.js"></script>
</body>
</html>